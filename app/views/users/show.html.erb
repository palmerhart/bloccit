<div class="row">
    <div class="col-md-8">
        <div class="media">
            <br />
            <% avatar_url = @user.avatar_url(128) %>
            <% if avatar_url %>
                <div class="media-left">
                    <%= image_tag avatar_url, class: 'media-object' %>
                </div>
            <% end %>
            <div class="media-body">
                <% if !user_has_posts_or_comments?(@user) %>
                    <%= "#{@user.name} has not submitted any posts yet." %>
                <% else %>
                    <div>
                        <h2 class="media-heading"><%= @user.name %></h2>
                        <small>
                            <%= pluralize(@user.posts.count, 'post') %>
                            <%= pluralize(@user.comments.count, 'comment') %>
                        </small>
                    </div?
                <% end %>
            </div>
        </div>
    </div>
</div>

<h2>Posts</h2>
<%= render @user.posts %>

<h2>Comments</h2>
<%= render @user.comments %>

<h2>Favorites</h2>
<div>
    <%= @user.favorites.each do |favorite| %>
        <div class="media">
            <div class="pull-left">
                <%= image_tag favorite.user.avatar_url(48), class: "gravatar" %>
            </div>
            <strong><%= favorite.post.title %></strong><br>
            <bold>Points:</bold><%= favorite.post.points %><br>
            <bold>Comments:</bold><%= favorite.post.comments.count %>
        </div>
    <% end %>
</div>